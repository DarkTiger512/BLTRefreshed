# yaml-language-server: $schema=https://raw.githubusercontent.com/billw2012/Bannerlord-Twitch/main/BannerlordTwitch/BannerlordTwitch/Bannerlord-Twitch.schema.json
---
# This file specifies the rewards and commands you want to make available in your channel.

# The list of available actions and command handlers and their configurations are documented automatically when you
# run the game for the first time with the mod installed. There will be a Bannerlord-Twitch-Documentation.html generated
# into the Bannerlord Configs directory (where this file will be copied to also). 

Rewards:
  # Rewards specify the channel point rewards that will be generated by this mod on startup, along with the action
  # to perform upon redeeming it. 
  
  
  # Once you have run the game once, a documentation html file will be generated 
  # in the Configs directory.
  - RewardSpec:           # RewardSpec - defines the Twitch specific part of the reward.
      Title: Adopt a Hero
      Cost: 5000
    Action: AdoptAHero    # Action - specifies the name of the BLT action that will handle this reward.
    ActionConfig:         # ActionConfig - the Action specific configuration for this reward
      AllowNoble: true
      AllowWanderer: true
      AllowNewAdoptionOnDeath: true
      StartingGold: 0
      StartingEquipmentTier: 0
      StartWithHorse: false
      StartWithArmor: false
  - RewardSpec:
      Title: 10k gold
      Cost: 1000
    Action: AddGoldToHero
    ActionConfig:
      Amount: 10000
  - RewardSpec:
      Title: 100k gold
      Cost: 10000
    Action: AddGoldToHero
    ActionConfig:
      Amount: 100000
  - RewardSpec:
      Title: Summon
      Cost: 1000
    Action: SummonHero
    ActionConfig:
      AllowFieldBattle: true
      AllowSiegeBattle: true
      AllowVillageBattle: true
      AllowArena: true
      AllowHideOut: true
      AllowFriendlyMission: true
      OnPlayerSide: true
      WinGold: 5000
      LoseGold: 5000
  - RewardSpec:
      Title: Attack
      Cost: 1000
    Action: SummonHero
    ActionConfig:
      AllowFieldBattle: true
      AllowSiegeBattle: true
      AllowVillageBattle: true
      AllowArena: true
      AllowHideOut: true
      AllowFriendlyMission: true
      OnPlayerSide: false
      WinGold: 5000
      LoseGold: 5000
  - RewardSpec:
      Title: Heal Player
      Cost: 1000
    Action: CharacterEffect
    ActionConfig:
      Name: Heal
      Duration: 15
      HealPerSecond: 3
      ParticleEffects:
        - Name: psys_bug_fly_1
          OnBody: true
  - RewardSpec:
      Title: Giant Hero
      Cost: 2000
    Action: CharacterEffect
    ActionConfig:
      Name: Giant mode
      Target: Adopted
      Duration: 60
      Scale: 1.5
      Properties:
        - Name: ArmorArms
          Add: 40
        - Name: ArmorEncumbrance
          Add: 100
        - Name: ArmorLegs
          Add: 40
        - Name: ArmorTorso
          Add: 40
        - Name: MaxSpeedMultiplier
          Multiply: 0.75
        - Name: SwingSpeedMultiplier
          Multiply: 0.75
  - RewardSpec:
      Title: Baby Hero
      Cost: 2000
    Action: CharacterEffect
    ActionConfig:
      Name: Baby mode
      Target: Adopted
      Duration: 60
      Scale: 0.5
      Properties:
        - Name: ArmorArms
          Multiply: 0.5
        - Name: ArmorEncumbrance
          Multiply: 0.5
        - Name: ArmorHead
          Multiply: 0.5
        - Name: ArmorLegs
          Multiply: 0.5
        - Name: ArmorTorso
          Multiply: 0.5
        - Name: MaxSpeedMultiplier
          Multiply: 2
Commands:
  # Commands specify the available chat bot commands, and what they should do.
  - Name: stats               # Name - the text, after the '!', that is entered in chat to execute this command 
    Help: Hero stats          # Help - this will be listed when !help is used
    Handler: HeroInfoCommand  # Handler - the name of the BLT handler for this command
    HandlerConfig:            # HandlerConfig - the handler specific config for this command
      ShowGeneral: true
      ShowTopSkills: true
      MinSkillToShow: 50
      ShowAttributes: true
  - Name: inv
    Help: Hero equipment
    Handler: HeroInfoCommand
    HandlerConfig:
      ShowEquipment: true
  - Name: adopt
    Help: Adopt a Hero (subs only)
    Handler: AdoptAHero
    HandlerConfig:
      AllowNoble: true
      AllowWanderer: true
      AllowNewAdoptionOnDeath: true
      StartingGold: 100000
      StartingEquipmentTier: 0
      SubscriberOnly: true
  - Name: skill
    Help: "+Skill (5k gold)"
    Handler: SkillXP
    HandlerConfig:
      Auto: true
      AmountLow: 5000
      AmountHigh: 5000
      GoldCost: 5000
  - Name: attr
    Help: "+Attr (10k gold)"
    Handler: AttributePoints
    HandlerConfig:
      Attribute: Random
      AmountLow: 1
      AmountHigh: 1
      GoldCost: 10000
  - Name: focus
    Help: "+Focus (10k gold)"
    Handler: FocusPoints
    HandlerConfig:
      Auto: true
      AmountLow: 1
      AmountHigh: 1
      GoldCost: 10000
  - Name: equip
    Help: "Improve Equip (10k gold x Tier)"
    Handler: EquipHero
    HandlerConfig:
      AllowCompanionUpgrade: true
      Armor: true
      Melee: true
      Ranged: true
      Horse: true
      Civilian: true
      Upgrade: true
      GoldCost: 10000
      MultiplyCostByCurrentTier: true
SimTesting:
  # SimTesting is used in development, for randomly generating fake viewers, and having them trigger random actions
  UserCount: 10
  UserStayTime: 300
  IntervalMinMS: 500
  IntervalMaxMS: 2500
  Init:
    - Type: Reward
      Id: Adopt a Hero
  Use:
    - Type: Reward
      Id: 10k gold
    - Type: Reward
      Id: 100k gold
    - Type: Reward
      Id: Summon
    - Type: Reward
      Id: Attack
    - Type: Reward
      Id: Heal Player
    - Type: Reward
      Id: Giant Hero
    - Type: Reward
      Id: Baby Hero

    - Type: Command
      Id: stats
    - Type: Command
      Id: inv
    - Type: Command
      Id: adopt
    - Type: Command
      Id: skill
    - Type: Command
      Id: attr
    - Type: Command
      Id: focus
    - Type: Command
      Id: equip

